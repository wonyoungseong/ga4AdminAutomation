# GA4 권한 관리 시스템 테스트 시나리오 작성을 위한 질문

작성일: 2025-01-21  
프로젝트: GA4 Admin Automation  
목적: 포괄적인 테스트 시나리오 작성을 위한 요구사항 명확화

## 📋 테스트 시나리오 작성을 위한 질문

### 1. 테스트 데이터 관련

**질문 1-1: 실제 이메일 주소**
- 테스트 시 실제 이메일을 받아볼 이메일 주소는 무엇인가요?
- 예상: seongwonyoung0311@gmail.com
- 답변: seongwonyoung0311@gmail.com

**질문 1-2: 테스트용 GA4 계정**
- 현재 테스트에 사용할 수 있는 GA4 계정/프로퍼티 ID는 무엇인가요?
- config.json의 account_id(332818805), property_id(462884506) 외에 다른 계정도 있나요?
- 답변: 위 계정입니다. 

**질문 1-3: 테스트 사용자 목록**
- 테스트에 사용할 더미 이메일 주소들을 제공해주세요 (5-10개)
wonyoungseong@gmail.com, wonyoung.seong@conentrix.com, wonyoung.seong@amorepacific.com, seongwonyoung0311@gmail.com, salboli@naver.com, demotest@gmail.com

- 실제 존재하는 Gmail 계정이어야 하나요?
- 답변: 아니요, 실패도 등록되어야하다보니 다음 2개 계정은 등록이 안되는 계정입니다. salboli@naver.com, demotest@gmail.com

그리고, 회사 계정도 있기 때문에 wonyoung.seong@conentrix.com, wonyoung.seong@amorepacific.com도 등록가능하도록 해주세요 

### 2. 권한 정책 확인

**질문 2-1: 권한 레벨 매핑**
- 요구사항 문서에서 "기본적으로는 analyst만 가능"이라고 하셨는데, 현재 시스템에서는 viewer/editor로 구분되어 있습니다.
- Analyst = Viewer로 이해하면 될까요? 아니요
- 아니면 시스템을 analyst/editor로 변경해주세요
- 답변: analyst/editor로 변경해주세요

**질문 2-2: Editor 권한 처리**
- Editor 권한은 7일 후 "자동 삭제"인가요, "Viewer로 다운그레이드"인가요?
- 요구사항 문서와 현재 구현이 다른 것 같습니다.
- 답변: 자동 삭제입니다. 

**질문 2-3: 권한 만료 정책**
- Analyst(Viewer): 30일 만료 + 자동 삭제
- Editor: 7일 만료 + 자동 삭제/다운그레이드
- 이 정책이 맞나요?
- 답변: Editor 자동 삭제입니다. 
그리고, analyst의 경우에는 ui/ux에서 30일로 할지 60일 할지 90일로 할지 설정할수있는 config 영역을 만들어서 진행하고자합니다. 이건 테스트보다는 추가 개발건으로 to-do로 진행해주세요

### 3. 알림 시점 및 빈도 확인

**질문 3-1: 알림 발송 빈도**
- 30일/7일/1일 전 알림: 각각 한 번씩만 발송되나요?
- 아니면 매일 체크해서 조건에 맞으면 매일 발송하나요?
- 답변: 매일 체크해서 남은 일기준으로 1번씩보냅니다. 

**질문 3-2: 당일 알림**
- 만료 당일에도 알림을 보내나요?
- 만료 후에도 알림을 보내나요?
- 답변: 만료당일에 알림 보내고, 삭제가 되기 때문에 삭제 알람만 보내면됩니다. 

**질문 3-3: 알림 발송 시간**
- 매일 오전 9시에 발송한다고 하셨는데, 테스트 시에는 즉시 발송 기능도 필요한가요?
- 답변: 테스트 즉시에 적용해주세요 

### 4. UI/UX 테스트 범위

**질문 4-1: 웹 인터페이스 테스트**
- 현재 웹 서버(포트 8000)에서 테스트할 주요 기능들:
  - [v] 사용자 등록 폼
  - [v] 대시보드 통계 표시
  - [v ] 사용자 목록 조회
  - [v ] 권한 수정/삭제
  - [v ] 프로퍼티 스캔
  - [v ] 수동 알림 발송
 

**질문 4-2: 실시간 업데이트**
- 등록/수정/삭제 후 대시보드에 실시간으로 반영되는지 확인해야 하나요?
- 새로고침 없이 자동 업데이트되어야 하나요?
- 답변: 대시보드 실시간 반영 확인해주세요, 사이트가 자동적으로 리로드되서 자동 업데이트되어야 합니다. 

**질문 4-3: 에러 처리 UI**
- 잘못된 이메일, 중복 등록 등의 에러 메시지가 UI에 적절히 표시되는지 확인해야 하나요?
- 답변: 네 확인해주세요

### 5. 데이터베이스 연동 테스트

**질문 5-1: 로그 기록 검증**
- audit_logs, notification_logs 테이블에 모든 작업이 정확히 기록되는지 확인해야 하나요?
- 어떤 수준까지 검증해야 하나요?
- 답변: 정확하게 검증해주세요

**질문 5-2: 백업 및 복원**
- 테스트 중 데이터베이스 백업/복원 기능도 테스트해야 하나요?
- 자동 백업(1주일 주기)도 확인해야 하나요?
- 답변: 네 테스트필요합니다. 

**질문 5-3: 데이터 일관성**
- GA4 API 호출과 데이터베이스 상태가 일치하는지 확인해야 하나요?
- 실패 시 롤백 처리가 되는지 확인해야 하나요?
- 답변: 네 확인되어야 합니다. 

### 6. 스케줄러 및 자동화 테스트

**질문 6-1: 스케줄러 테스트**
- 실제 스케줄된 작업들이 정시에 실행되는지 확인해야 하나요?
- 테스트 환경에서는 시간을 앞당겨서 테스트할 수 있나요?
- 답변: 테스트 환경에 앞당겨서 테스트해주세요 

**질문 6-2: 자동화 프로세스**
- 만료 처리, Editor 다운그레이드 등 자동화 프로세스를 수동으로 트리거해서 테스트해야 하나요?
- 답변: 네 수동으로 트리거해야합니다. 이건 제가 개입할수있게 해주세요 

### 7. 외부 연동 테스트

**질문 7-1: Gmail API 테스트**
- 실제 Gmail을 통해 이메일이 발송되는지 확인해야 하나요?
- 스팸 폴더에 들어가지 않는지도 확인해야 하나요?
- 답변: 아니요. 대신 제대로 들어갔는지 확인해야합니다. 

**질문 7-2: GA4 API 테스트**
- 실제 GA4에 사용자가 등록/삭제되는지 GA4 콘솔에서 확인해야 하나요?
- API 호출 제한에 걸리지 않도록 주의해야 할 점이 있나요?
- 답변: 콘솔에서 확인은 안해도 api로 확인해주세요 실행후헹 id list가있는지 

## 🎯 예상 테스트 시나리오 구성

답변을 받은 후 다음과 같은 테스트 시나리오를 작성할 예정입니다:

### 1. **권한 추가 시나리오**
- Analyst 권한 추가 (자동 승인)
- Editor 권한 추가 (수동 승인)
- 대량 사용자 등록 (쉼표 구분)
- 중복 등록 처리
- 잘못된 이메일 처리

### 2. **권한 업데이트 시나리오**
- 권한 연장 (30일)
- Editor → Viewer 다운그레이드 (7일 후)
- 만료일 수정
- 권한 레벨 변경

### 3. **권한 삭제 시나리오**
- 수동 삭제
- 자동 만료 삭제
- 대량 삭제
- 삭제 후 GA4에서 권한 제거 확인

### 4. **알림 시스템 시나리오**
- 환영 메일 발송 (등록 즉시)
- 30일 전 만료 알림
- 7일 전 만료 알림
- 1일 전 만료 알림
- 당일 만료 알림
- 삭제 완료 알림
- Editor 다운그레이드 알림
- 관리자 알림

### 5. **UI/UX 검증 시나리오**
- 대시보드 실시간 업데이트
- 통계 정보 정확성
- 사용자 등록 폼 검증
- 에러 메시지 표시
- 로딩 상태 표시
- 반응형 디자인

### 6. **데이터베이스 연동 시나리오**
- 모든 작업의 로그 기록
- 데이터 일관성 검증
- 백업/복원 기능
- 트랜잭션 처리
- 동시성 처리

### 7. **성능 및 안정성 시나리오**
- 대량 데이터 처리
- API 호출 제한 처리
- 네트워크 오류 처리
- 서버 재시작 후 복구
- 메모리 사용량 모니터링

### 8. **보안 및 권한 시나리오**
- 인증되지 않은 접근 차단
- SQL 인젝션 방지
- XSS 공격 방지
- 민감한 정보 로깅 방지

## 📝 답변 작성 가이드

각 질문에 대해 구체적으로 답변해주시면:
1. 맞춤형 테스트 시나리오 작성
2. 테스트 데이터 준비
3. 예상 결과 정의
4. 검증 기준 설정
5. 자동화 스크립트 작성

이 모든 것을 포함한 완전한 테스트 계획을 제공해드리겠습니다.

---

**작성 완료 후 파일명을 `GA4_테스트시나리오_질문_답변완료.md`로 변경해주세요.** 