{
  "test_phases": 5,
  "completed_phases": 1,
  "failed_phases": 4,
  "success_rate": 20.0,
  "total_duration_seconds": 25.120754,
  "start_time": "2025-06-29T23:01:02.000117",
  "end_time": "2025-06-29T23:01:27.120871",
  "overall_errors": [],
  "detailed_results": {
    "1️⃣ TDD 방식 알림 시스템 오류 해결": {
      "success": true,
      "exit_code": 0,
      "stdout": "\n🧪 TDD 방식 알림 시스템 오류 해결 테스트 시작\n\n🔍 실행: NotificationHandler import 테스트\n✅ 통과: NotificationHandler import 테스트\n\n🔍 실행: NotificationConfigManager get_admin_emails 메서드 테스트\n✅ 통과: NotificationConfigManager get_admin_emails 메서드 테스트\n\n🔍 실행: NotificationService 초기화 테스트\n✅ 통과: NotificationService 초기화 테스트\n\n🔍 실행: NotificationLogger 스키마 오류 테스트\n✅ 통과: NotificationLogger 스키마 오류 테스트\n\n🔍 실행: NotificationService 비동기 테스트\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 🔄 예약된 알림 처리 시작\n2025-06-29 23:01:02 | ERROR    | GA4PermissionManager | ❌ 만료 경고 알림 처리 실패: 'str' object has no attribute 'value'\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_1_day@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: test_today@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: wonyoungseong@gmail.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: playwright_test@example.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: playwright_test@example.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: debug.admin.test@example.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ⏭ 발송 조건 불만족으로 건너뜀: expired\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | 📧 삭제 알림 발송 완료: newadmin.test@example.com\n2025-06-29 23:01:02 | INFO     | GA4PermissionManager | ✅ 예약된 알림 처리 완료: {'processed': 23, 'sent': 23, 'failed': 0, 'skipped': 0, 'details': [{'type': 'expiry_warnings', 'error': \"'str' object has no attribute 'value'\"}, {'type': 'deletion_notices', 'processed': 23, 'sent': 23, 'failed': 0, 'skipped': 0}]}\n✅ 통과: NotificationService 비동기 테스트\n\n📊 테스트 결과: 5개 통과, 0개 실패\n\n🎉 모든 테스트 통과!\n",
      "stderr": "",
      "test_type": "TDD",
      "timestamp": "2025-06-29T23:01:02.256919"
    },
    "2️⃣ 사용자 등록 시나리오 테스트": {
      "success": false,
      "scenario_results": {
        "total_scenarios": 10,
        "passed": 0,
        "failed": 10,
        "success_rate": 0.0,
        "errors_found": [],
        "detailed_results": [
          {
            "scenario": "시나리오 1: 정상적인 Analyst 등록",
            "success": false,
            "error": "등록 요청 실패: HTTP 422",
            "details": {
              "status_code": 422
            },
            "timestamp": "2025-06-29T23:01:02.331420"
          },
          {
            "scenario": "시나리오 2: Editor 권한 신청",
            "success": false,
            "error": "초기 Analyst 등록 실패: HTTP 422",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.333237"
          },
          {
            "scenario": "시나리오 3: Admin 권한 신청",
            "success": false,
            "error": "초기 Editor 등록 실패: HTTP 422",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.334699"
          },
          {
            "scenario": "시나리오 4: 중복 등록 시도",
            "success": false,
            "error": "첫 번째 등록 실패: HTTP 422",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.336103"
          },
          {
            "scenario": "시나리오 5: 잘못된 이메일 형식",
            "success": false,
            "error": null,
            "details": {
              "total_invalid_emails": 5,
              "errors_caught": 0,
              "validation_rate": 0.0
            },
            "timestamp": "2025-06-29T23:01:02.339823"
          },
          {
            "scenario": "시나리오 6: 누락된 필드",
            "success": false,
            "error": null,
            "details": {
              "total_test_cases": 4,
              "validation_errors_caught": 0,
              "validation_success_rate": 0.0
            },
            "timestamp": "2025-06-29T23:01:02.342593"
          },
          {
            "scenario": "시나리오 7: 권한 승인 과정",
            "success": false,
            "error": "pending_approval 사용자 등록 실패: HTTP 422",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.343924"
          },
          {
            "scenario": "시나리오 8: 알림 발송 확인",
            "success": false,
            "error": "알림 통계 조회 실패: HTTP 404",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.345391"
          },
          {
            "scenario": "시나리오 9: 데이터베이스 일관성 확인",
            "success": false,
            "error": "시스템 상태 조회 실패: HTTP 404",
            "details": {},
            "timestamp": "2025-06-29T23:01:02.346640"
          },
          {
            "scenario": "시나리오 10: 시스템 부하 상황",
            "success": false,
            "error": null,
            "details": {
              "concurrent_requests": 5,
              "successful_requests": 0,
              "failed_requests": 5,
              "success_rate": 0.0
            },
            "timestamp": "2025-06-29T23:01:02.350087"
          }
        ],
        "test_timestamp": "2025-06-29T23:01:02.350093"
      },
      "test_type": "Scenario",
      "timestamp": "2025-06-29T23:01:02.350106"
    },
    "3️⃣ Playwright E2E 브라우저 테스트": {
      "success": false,
      "e2e_results": {
        "total_tests": 10,
        "passed": 5,
        "failed": 5,
        "success_rate": 50.0,
        "errors_found": [
          "Console error: Failed to load resource: the server responded with a status of 404 (Not Found)",
          "Console error: Failed to load resource: the server responded with a status of 404 (Not Found)",
          "Console error: Failed to load resource: the server responded with a status of 404 (Not Found)"
        ],
        "detailed_results": [
          {
            "test": "E2E 1: 홈페이지 접근 및 기본 UI 확인",
            "success": false,
            "error": "누락된 요소들: ['header', 'footer']",
            "details": {
              "page_title": "GA4 권한 관리 대시보드",
              "missing_elements": [
                "header",
                "footer"
              ],
              "screenshot": "homepage_screenshot_230109.png",
              "url": "http://localhost:8000/"
            },
            "timestamp": "2025-06-29T23:01:09.876074"
          },
          {
            "test": "E2E 2: 사용자 등록 폼 작동 확인",
            "success": false,
            "error": "폼 문제: ['input[type=\"email\"]', 'input[name=\"property_name\"]', 'select[name=\"role\"]']",
            "details": {
              "missing_form_elements": [
                "input[type=\"email\"]",
                "input[name=\"property_name\"]",
                "select[name=\"role\"]"
              ],
              "form_submission_success": true,
              "test_email": "playwright_test_230119@example.com"
            },
            "timestamp": "2025-06-29T23:01:21.455138"
          },
          {
            "test": "E2E 3: 관리자 페이지 접근",
            "success": true,
            "error": null,
            "details": {
              "status_code": 200,
              "admin_elements_present": [
                "table",
                "button",
                "nav"
              ],
              "page_accessible": true
            },
            "timestamp": "2025-06-29T23:01:22.018736"
          },
          {
            "test": "E2E 4: API 엔드포인트 응답 확인",
            "success": true,
            "error": null,
            "details": {
              "endpoint_results": {
                "/api/health": {
                  "status": 404,
                  "accessible": true,
                  "is_json": false
                },
                "/api/users": {
                  "status": 200,
                  "accessible": true,
                  "is_json": false
                },
                "/api/system-status": {
                  "status": 404,
                  "accessible": true,
                  "is_json": false
                },
                "/api/admin/notification-stats": {
                  "status": 404,
                  "accessible": true,
                  "is_json": false
                }
              },
              "accessible_endpoints": 4,
              "total_endpoints": 4,
              "success_rate": 100.0
            },
            "timestamp": "2025-06-29T23:01:24.059157"
          },
          {
            "test": "E2E 5: 실시간 알림 기능",
            "success": false,
            "error": "실시간 알림 테스트 예외: Page.evaluate: SyntaxError: Unexpected token 'in'\n    at eval (<anonymous>)\n    at UtilityScript.evaluate (<anonymous>:313:29)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
            "details": {},
            "timestamp": "2025-06-29T23:01:24.601507"
          },
          {
            "test": "E2E 6: 모바일 반응형 디자인",
            "success": false,
            "error": null,
            "details": {
              "visible_elements": [
                "main"
              ],
              "no_horizontal_scroll": true,
              "scroll_width": 375,
              "client_width": 375,
              "mobile_screenshot": "mobile_screenshot_230125.png"
            },
            "timestamp": "2025-06-29T23:01:25.247406"
          },
          {
            "test": "E2E 7: 성능 및 로딩 시간",
            "success": true,
            "error": null,
            "details": {
              "loading_time_seconds": 0.556244,
              "performance_data": {
                "domContentLoaded": 0.40000003576278687,
                "loadComplete": 0.20000004768371582,
                "firstPaint": 48
              },
              "response_status": 200,
              "performance_threshold_met": true
            },
            "timestamp": "2025-06-29T23:01:25.806963"
          },
          {
            "test": "E2E 8: 접근성 (Accessibility) 확인",
            "success": true,
            "error": null,
            "details": {
              "checks": {
                "hasTitle": true,
                "hasLang": true,
                "hasMainLandmark": true,
                "hasHeadings": true,
                "hasAltTexts": true,
                "hasLabels": false
              },
              "score": 5,
              "total": 6,
              "percentage": 83.33333333333334
            },
            "timestamp": "2025-06-29T23:01:26.373017"
          },
          {
            "test": "E2E 9: 보안 헤더 및 HTTPS",
            "success": false,
            "error": null,
            "details": {
              "security_headers": {
                "x-frame-options": null,
                "x-content-type-options": null,
                "x-xss-protection": null,
                "content-security-policy": null,
                "strict-transport-security": null
              },
              "is_https": false,
              "security_score": 0.0,
              "headers_present": 0,
              "total_headers_checked": 5
            },
            "timestamp": "2025-06-29T23:01:26.928727"
          },
          {
            "test": "E2E 10: 브라우저 호환성",
            "success": true,
            "error": null,
            "details": {
              "js_features": {
                "ES6_support": true,
                "Fetch_API": true,
                "LocalStorage": true,
                "JSON_support": true,
                "querySelector": true,
                "addEventListener": true
              },
              "css_features": {
                "flexbox": true,
                "grid": true,
                "transforms": true,
                "transitions": true
              },
              "compatibility_score": 100.0,
              "supported_features": 10,
              "total_features": 10
            },
            "timestamp": "2025-06-29T23:01:26.939982"
          }
        ],
        "test_timestamp": "2025-06-29T23:01:26.940001"
      },
      "test_type": "Playwright",
      "timestamp": "2025-06-29T23:01:26.940047"
    },
    "4️⃣ 시스템 상태 및 성능 검증": {
      "success": false,
      "health_check": {
        "success": false,
        "status_code": 404,
        "error": "Health check failed with status 404"
      },
      "performance_check": {
        "success": true,
        "total_time": 0.010409,
        "successful_requests": 5,
        "total_requests": 5,
        "average_time": 0.0020818
      },
      "api_check": {
        "success": true,
        "responsiveness_rate": 100.0,
        "responsive_endpoints": 4,
        "total_endpoints": 4,
        "endpoint_results": {
          "/api/health": {
            "status": 404,
            "response_time": 0.000453,
            "responsive": true
          },
          "/api/users": {
            "status": 200,
            "response_time": 0.002357,
            "responsive": true
          },
          "/api/admin/system-status": {
            "status": 404,
            "response_time": 0.000353,
            "responsive": true
          },
          "/api/admin/notification-stats": {
            "status": 404,
            "response_time": 0.000366,
            "responsive": true
          }
        }
      },
      "test_type": "System Verification",
      "timestamp": "2025-06-29T23:01:26.995606"
    },
    "5️⃣ 데이터베이스 일관성 확인": {
      "success": false,
      "tables_check": {
        "success": false,
        "existing_tables": [
          "notification_logs",
          "notification_settings",
          "audit_logs"
        ],
        "missing_tables": [
          "ga4_permissions"
        ],
        "table_count": 3
      },
      "data_consistency_check": {
        "success": true,
        "user_count": 0,
        "log_count": 27,
        "consistency_checks": {
          "user_count_positive": true,
          "log_count_positive": true,
          "no_orphaned_logs": true
        }
      },
      "performance_check": {
        "success": true,
        "query_time": 0.000154,
        "performance_threshold": 1.0,
        "performance_status": "good"
      },
      "test_type": "Database Check",
      "timestamp": "2025-06-29T23:01:27.120864"
    }
  }
}